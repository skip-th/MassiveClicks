Job ID: 0
Number of threads: 32
Raw data path: /var/scratch/pkhandel/yandex/YandexClicks.txt
Number of EM iterations: 50
Number of sessions: 10000000
Filter unseen test queries: 1
Partitioning type: 1
Model type: PBM
Raw dataset file is opened ...!
Number of session available: 10000000
Expectation Maximization (EM) in parallel ...
Itr: 0 Itr-time: 12.0913 Itr-EM_COMP: 3.69651 Itr-EM_UPDATE: 7.82039 Itr-Sync: 0.574449
Itr: 1 Itr-time: 1.87976 Itr-EM_COMP: 1.43327 Itr-EM_UPDATE: 0.172024 Itr-Sync: 0.27447
Itr: 2 Itr-time: 1.41272 Itr-EM_COMP: 1.13187 Itr-EM_UPDATE: 0.204164 Itr-Sync: 0.0766869
Itr: 3 Itr-time: 1.41666 Itr-EM_COMP: 1.16715 Itr-EM_UPDATE: 0.228633 Itr-Sync: 0.020879
Itr: 4 Itr-time: 1.42816 Itr-EM_COMP: 1.17885 Itr-EM_UPDATE: 0.183576 Itr-Sync: 0.06574
Itr: 5 Itr-time: 1.5599 Itr-EM_COMP: 1.27185 Itr-EM_UPDATE: 0.208201 Itr-Sync: 0.0798508
Itr: 6 Itr-time: 1.60483 Itr-EM_COMP: 1.28302 Itr-EM_UPDATE: 0.213659 Itr-Sync: 0.108154
Itr: 7 Itr-time: 1.54092 Itr-EM_COMP: 1.29609 Itr-EM_UPDATE: 0.224045 Itr-Sync: 0.0207851
Itr: 8 Itr-time: 1.55018 Itr-EM_COMP: 1.2852 Itr-EM_UPDATE: 0.243697 Itr-Sync: 0.02128
Itr: 9 Itr-time: 1.59627 Itr-EM_COMP: 1.35378 Itr-EM_UPDATE: 0.242435 Itr-Sync: 4.9265e-05
Itr: 10 Itr-time: 1.63476 Itr-EM_COMP: 1.29463 Itr-EM_UPDATE: 0.269255 Itr-Sync: 0.0708735
Itr: 11 Itr-time: 1.66531 Itr-EM_COMP: 1.33249 Itr-EM_UPDATE: 0.293174 Itr-Sync: 0.0396413
Itr: 12 Itr-time: 1.73482 Itr-EM_COMP: 1.34203 Itr-EM_UPDATE: 0.284345 Itr-Sync: 0.108439
Itr: 13 Itr-time: 1.69924 Itr-EM_COMP: 1.38849 Itr-EM_UPDATE: 0.283327 Itr-Sync: 0.0274181
Itr: 14 Itr-time: 1.68463 Itr-EM_COMP: 1.37275 Itr-EM_UPDATE: 0.286743 Itr-Sync: 0.0251332
Itr: 15 Itr-time: 1.66789 Itr-EM_COMP: 1.3782 Itr-EM_UPDATE: 0.285217 Itr-Sync: 0.00447211
Itr: 16 Itr-time: 1.68473 Itr-EM_COMP: 1.39277 Itr-EM_UPDATE: 0.291894 Itr-Sync: 6.8176e-05
Itr: 17 Itr-time: 1.68979 Itr-EM_COMP: 1.39343 Itr-EM_UPDATE: 0.296262 Itr-Sync: 9.8695e-05
Itr: 18 Itr-time: 1.6993 Itr-EM_COMP: 1.38598 Itr-EM_UPDATE: 0.276803 Itr-Sync: 0.0365129
Itr: 19 Itr-time: 1.70557 Itr-EM_COMP: 1.39138 Itr-EM_UPDATE: 0.302825 Itr-Sync: 0.0113644
Itr: 20 Itr-time: 1.71004 Itr-EM_COMP: 1.4008 Itr-EM_UPDATE: 0.309182 Itr-Sync: 6.3659e-05
Itr: 21 Itr-time: 1.73675 Itr-EM_COMP: 1.39885 Itr-EM_UPDATE: 0.308948 Itr-Sync: 0.0289569
Itr: 22 Itr-time: 1.70511 Itr-EM_COMP: 1.39602 Itr-EM_UPDATE: 0.309051 Itr-Sync: 4.6297e-05
Itr: 23 Itr-time: 1.7274 Itr-EM_COMP: 1.41995 Itr-EM_UPDATE: 0.307396 Itr-Sync: 5.0616e-05
Itr: 24 Itr-time: 1.71578 Itr-EM_COMP: 1.41116 Itr-EM_UPDATE: 0.294494 Itr-Sync: 0.0101262
Itr: 25 Itr-time: 1.73563 Itr-EM_COMP: 1.42329 Itr-EM_UPDATE: 0.310529 Itr-Sync: 0.00180595
Itr: 26 Itr-time: 1.7137 Itr-EM_COMP: 1.42578 Itr-EM_UPDATE: 0.287875 Itr-Sync: 5.0176e-05
Itr: 27 Itr-time: 1.73213 Itr-EM_COMP: 1.42546 Itr-EM_UPDATE: 0.306623 Itr-Sync: 5.0729e-05
Itr: 28 Itr-time: 1.73347 Itr-EM_COMP: 1.4298 Itr-EM_UPDATE: 0.298262 Itr-Sync: 0.00541345
Itr: 29 Itr-time: 1.7535 Itr-EM_COMP: 1.41949 Itr-EM_UPDATE: 0.319552 Itr-Sync: 0.0144671
Itr: 30 Itr-time: 1.72576 Itr-EM_COMP: 1.42171 Itr-EM_UPDATE: 0.303976 Itr-Sync: 6.9245e-05
Itr: 31 Itr-time: 1.73161 Itr-EM_COMP: 1.42923 Itr-EM_UPDATE: 0.294942 Itr-Sync: 0.00743302
Itr: 32 Itr-time: 1.7353 Itr-EM_COMP: 1.41184 Itr-EM_UPDATE: 0.298292 Itr-Sync: 0.0251712
Itr: 33 Itr-time: 1.74639 Itr-EM_COMP: 1.4317 Itr-EM_UPDATE: 0.304162 Itr-Sync: 0.0105274
Itr: 34 Itr-time: 1.74011 Itr-EM_COMP: 1.42648 Itr-EM_UPDATE: 0.313579 Itr-Sync: 4.5739e-05
Itr: 35 Itr-time: 1.75021 Itr-EM_COMP: 1.42262 Itr-EM_UPDATE: 0.308321 Itr-Sync: 0.0192711
Itr: 36 Itr-time: 1.75288 Itr-EM_COMP: 1.42069 Itr-EM_UPDATE: 0.307738 Itr-Sync: 0.0244524
Itr: 37 Itr-time: 1.76688 Itr-EM_COMP: 1.45009 Itr-EM_UPDATE: 0.302598 Itr-Sync: 0.0141855
Itr: 38 Itr-time: 1.73837 Itr-EM_COMP: 1.42548 Itr-EM_UPDATE: 0.308767 Itr-Sync: 0.00411467
Itr: 39 Itr-time: 1.76116 Itr-EM_COMP: 1.43215 Itr-EM_UPDATE: 0.314824 Itr-Sync: 0.0141949
Itr: 40 Itr-time: 1.74623 Itr-EM_COMP: 1.41985 Itr-EM_UPDATE: 0.306967 Itr-Sync: 0.0194059
Itr: 41 Itr-time: 1.75158 Itr-EM_COMP: 1.43471 Itr-EM_UPDATE: 0.307768 Itr-Sync: 0.00909715
Itr: 42 Itr-time: 1.75539 Itr-EM_COMP: 1.42841 Itr-EM_UPDATE: 0.303197 Itr-Sync: 0.0237829
Itr: 43 Itr-time: 1.75804 Itr-EM_COMP: 1.43241 Itr-EM_UPDATE: 0.3102 Itr-Sync: 0.015437
Itr: 44 Itr-time: 1.75054 Itr-EM_COMP: 1.44787 Itr-EM_UPDATE: 0.301607 Itr-Sync: 0.00106942
Itr: 45 Itr-time: 1.7603 Itr-EM_COMP: 1.42732 Itr-EM_UPDATE: 0.314262 Itr-Sync: 0.0187192
Itr: 46 Itr-time: 1.7499 Itr-EM_COMP: 1.4364 Itr-EM_UPDATE: 0.310577 Itr-Sync: 0.00292047
Itr: 47 Itr-time: 1.75874 Itr-EM_COMP: 1.41798 Itr-EM_UPDATE: 0.320437 Itr-Sync: 0.0203261
Itr: 48 Itr-time: 1.74999 Itr-EM_COMP: 1.44459 Itr-EM_UPDATE: 0.305342 Itr-Sync: 5.945e-05
Itr: 49 Itr-time: 1.7689 Itr-EM_COMP: 1.45977 Itr-EM_UPDATE: 0.3054 Itr-Sync: 0.00372984
end
Total Log likelihood is: -0.269995
Perplexity at rank 0 is: 1.77734
Perplexity at rank 1 is: 1.55528
Perplexity at rank 2 is: 1.40425
Perplexity at rank 3 is: 1.32619
Perplexity at rank 4 is: 1.26365
Perplexity at rank 5 is: 1.22317
Perplexity at rank 6 is: 1.1944
Perplexity at rank 7 is: 1.16723
Perplexity at rank 8 is: 1.15667
Perplexity at rank 9 is: 1.1596
Perplexity is: 1.32278
Average Time per Iteration: 1.90482
Average time per computation in each Iteration: 1.40915
Average time per synchronization in each Iteration: 0.0520984
Average time per updating in each Iteration: 0.443578
Total time of training: 98.2428
Evaluation time: 0.138027
Finished!, Total Elapsed time: 194.982 seconds
PreProcess time: 96.4457

Thread Workload-Train --- Thread No. Unique Queries
250000---82627
250000---81846
250000---82524
250000---82362
250000---81819
250000---81314
250000---81592
250000---82808
250000---81829
250000---81901
250000---82820
250000---81596
250000---82179
250000---82461
250000---81449
250000---83115
250000---82066
250000---82476
250001---81524
250001---81543
250000---82436
250000---82384
250000---82217
250000---81481
250000---82343
250000---82280
250000---82736
250000---82525
250000---82024
250000---82075
249999---82740
249999---83319

Thread Workload-Test --- Thread No. Unique Queries
36757---6586
42538---6665
41657---6792
44203---6753
43931---6862
40822---6609
43688---6650
43095---6764
41288---6661
40995---6672
47050---6723
44843---6488
41296---6732
43382---6747
42102---6603
42792---6820
35794---6570
44496---6803
43859---6573
42111---6697
43076---6758
41304---6778
41285---6822
40446---6739
38595---6820
41552---6726
39901---6795
42048---6742
43888---6729
48991---6807
52788---6798
41330---6800

